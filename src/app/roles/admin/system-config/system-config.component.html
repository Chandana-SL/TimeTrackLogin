<div class="system-config-page">
  <!-- Work Categories Card -->
  <section class="card categories-card">
    <div class="card-header">
      <h3>Work Categories</h3>
      <p class="muted">Configure work categories for time tracking and task classification</p>
      <div class="header-actions">
        <button class="btn-primary" (click)="toggleAddCategory()">
          {{ showAddCategory ? 'Cancel' : 'Add Category' }}
        </button>
      </div>
    </div>

    <div class="card-body">
      <div *ngIf="showAddCategory" class="add-category-row">
        <input type="text" placeholder="e.g., Research, Planning" [(ngModel)]="newCategoryName" class="input-text" />
        <div class="color-block">
          <input type="color" [(ngModel)]="newCategoryColor" title="Pick color" />
        </div>
        <input type="text" class="input-hex" [value]="newCategoryColor" readonly />
        <div class="add-controls">
          <button class="btn-primary" (click)="addCategory()">Add Category</button>
          <button class="btn-ghost" (click)="toggleAddCategory()">Cancel</button>
        </div>
      </div>

      <div class="categories-grid">
        <div class="category-pill" *ngFor="let c of categories; let i = index">
          <div class="swatch" [style.background]="c.color"></div>
          <div class="meta">
            <div class="cat-name">{{ c.name }}</div>
            <div class="cat-hex">{{ c.color }}</div>
          </div>
          <div class="pill-actions">
            <span class="status" [class.active]="c.active" (click)="toggleCategoryActive(c)">{{ c.active ? 'Active' : 'Inactive' }}</span>
            <button class="icon-btn" title="Delete" (click)="removeCategory(i)">âœ–</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- System Settings Card -->
  <section class="card settings-card">
    <div class="card-header">
      <h3>System Settings</h3>
      <p class="muted">Configure global system parameters for time tracking</p>
    </div>

    <div class="card-body settings-grid">
      <div class="settings-section">
        <h4>Working Hours</h4>
        <div class="form-row">
          <label>Standard Hours per Day</label>
          <input type="number" min="0" [(ngModel)]="settings.workingHoursPerDay" class="input-text" />
        </div>
        <div class="form-row">
          <label>Working Days per Week</label>
          <input type="number" min="0" [(ngModel)]="settings.workingDaysPerWeek" class="input-text" />
        </div>
      </div>

      <div class="settings-section">
        <h4>Time Logging Rules</h4>
        <div class="form-row">
          <label>Overtime Threshold (hours/week)</label>
          <input type="number" min="0" [(ngModel)]="settings.overtimeThresholdHoursPerWeek" class="input-text" />
        </div>
        <div class="form-row">
          <label>Minimum Break Duration (minutes)</label>
          <input type="number" min="0" [(ngModel)]="settings.minimumBreakMinutes" class="input-text" />
        </div>
        <div class="form-row">
          <label>Minimum Log Duration (minutes)</label>
          <input type="number" min="0" [(ngModel)]="settings.minimumLogDurationMinutes" class="input-text" />
        </div>
      </div>

      <div class="settings-section">
        <h4>Security Settings</h4>
        <div class="form-row">
          <label>Auto Logout (minutes of inactivity)</label>
          <input type="number" min="0" [(ngModel)]="settings.autoLogoutMinutes" class="input-text" />
        </div>
      </div>

      <div class="save-row">
        <button class="btn-primary" (click)="saveSettings()">Save Settings</button>
      </div>
    </div>
  </section>

  <!-- Configuration Notes -->
  <section class="notes-card">
    <div class="notes-inner">
      <h4>Configuration Notes</h4>
      <ul>
        <li>Work categories are used to classify tasks and time entries</li>
        <li>System settings apply to all users across the organization</li>
        <li>Changes to working hours affect productivity calculations</li>
        <li>Overtime threshold helps identify employees working beyond standard hours</li>
      </ul>
    </div>
  </section>
</div>